{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Check if this bash command is destructive (rm -rf, DROP TABLE, git push --force to main/master, git reset --hard, git clean -f). If destructive, respond with 'BLOCK: This is a destructive command that requires explicit user confirmation.' Otherwise respond with 'ALLOW'.",
            "description": "Block destructive commands without user confirmation"
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Review what was accomplished in this response. If code files were created or modified and no tests were run and no reviewer/security-auditor subagent was invoked, respond with 'BLOCK: Code changes detected without validation. Please run tests and invoke the reviewer and security-auditor subagents before completing.' Otherwise respond with 'ALLOW'.",
            "description": "Ensure validation pipeline runs for code changes"
          }
        ]
      }
    ]
  },
  "permissions": {
    "allow": [
      "Read",
      "Glob",
      "Grep",
      "WebSearch",
      "WebFetch"
    ]
  },
  "agentTeams": {
    "enabled": true
  }
}
