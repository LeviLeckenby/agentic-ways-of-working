{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Check if this bash command is destructive (rm -rf, DROP TABLE, git push --force to main/master, git reset --hard, git clean -f). If destructive, respond with 'BLOCK: This is a destructive command that requires explicit user confirmation.' Otherwise respond with 'ALLOW'.",
            "description": "Block destructive commands without user confirmation"
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Check if any Write or Edit tool calls targeted code files (*.ts, *.js, *.py, *.go, *.rs, *.java, *.tsx, *.jsx, *.vue, *.rb, *.cs, *.cpp, *.c, *.h, *.swift, *.kt) in this response. If code files were modified AND no Task tool was used to invoke reviewer or security-auditor subagents, respond with 'BLOCK: Code changes detected without validation. Please invoke the reviewer and security-auditor subagents before completing.' If no code files were modified, or if validation subagents were invoked, respond with 'ALLOW'.",
            "description": "Ensure validation pipeline runs for code changes"
          }
        ]
      }
    ]
  },
  "permissions": {
    "allow": [
      "Read",
      "Glob",
      "Grep",
      "WebSearch",
      "WebFetch"
    ]
  },
  "agentTeams": {
    "enabled": true
  }
}
